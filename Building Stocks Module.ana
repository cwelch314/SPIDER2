{ From user coryw, Model Building_Stocks at 14-Dec-2018 3:01:57 PM, encoding="UTF-8" }
SoftwareVersion 5.1.6



LinkModule Building_Stocks
Title: Building Stocks
Author: Cory Welch
Date: Mon, Jan 8, 2018 10:24 AM
SaveAuthor: coryw
SaveDate: Fri, Dec 14, 2018 3:01 PM
DefaultSize: 64,40
NodeSize: 80,56
NodeInfo: 1,0,0,1,1,1,0,,0,,0,,,
DiagState: 2,113,25,1555,754,17
Pict: (000000000000003C003C00044203000089504E470D0A1A0A0000000D494844520000003C0000003C08060000003AFCD972000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000002C7494441546843ED993D68535114C7337674EC6646471D44C70C0E852EBA75EC22082E1933D92E9241214504C5A11D1445148A2214042D2231836251A12208814AA9A0202A180AF29E9CC291DBD3FFFD7A1F7937AF77F841F3BFF71EDE2FF726EF9DB491A6E9A1028675068665D3DF5E9B59FED0EDECFE1D4DA1F1328161993CFABC327FE27623252E3E9B591BB7340CCB4295AD4A1A86652077968EB44D3A797BAB9D5C3F3A4A96A6531D69FF7257AE3301C3A2D11D63DBF14E964F0E91A4445D630386457267B3D7364919A5BFF45BC9E0CA22227D71A9179CF0CD770B8B2659C6B6D3909F5BCDA0845D65196FE990847D65192FE95084B3CA32CED22108E795659CA4AB162E4A96B14A57295CB42C6394AE4AB82C5946953EFFB4B5FE6BF7C7111E4BEECF0E0875BE0D18BA52B62CA34ACF3D39BEA14AFB024317AEBE69F7C621CB14250D431B0BAFE657C629CB501F7DEAEED4288F340C4DA8B2F4379A532679A561A8A36A59268F340C11A1C83259A56128094D96C9220D43955065195F691832A1CB323ED2302426459651A5CF3D3EF671FBF7B089E61D088849936554E9D9D5E61049EF7B414CAA2C6393DE3779D2651993F4FF4975916574D27B83EA4FA97590655469FAF6A66C6F803B116AF7D405CC834F372E5093F0FDCF0E75DB07C64386A4CF3C9CDEA15E9A5EC349127E97E8DF23683C0468B39E6FAD9E45632A3094F071D79D80AAA15DA4EBA38D41E32A3094842EACFE3820C724309444E1C088C2066028C92A4C37FBCECBB97B744B70856E7FEFBF0D4EA37A3A8211BEB6D1E9F25A1F481AD5D3118C303FAED2A31DADB5414F43349F761AD5D3119CB0AB80EF7C260A1B80A1848B45610B51D8421476240A1B80A1848B45610B51D8421476240A1B80A1848B1D3A61BAA0D75FD75BAE509BE723C0C2D435A17A3AD43654D694C050C2C5B2E22B9C075953024349DE0B71FD28A847330B2E6F2C0CEB0C0CEB0C0CEB4BDAF807C5ACDF944D009DE70000000049454E44AE426082)
FontStyle: Arial Narrow,19
FileInfo: 0,LinkModule Building_Stocks,2,2,0,0,Building Stocks Module.ana

Module Non_Res_Bldg_Stock_E
Title: Non-Res Bldg Stock Estimates
Author: JamesMilford
Date: Wed, Oct 31, 2018 10:11 AM
NodeLocation: 400,608,1
NodeSize: 64,40
NodeInfo: 1,0,0,1,1,1,0,,0,,0,,,
DiagState: 2,6,99,1304,597,17

Constant Comm_Floorspace
Title: Commercial Floorspace
Units: million sqft
Description: The commercial floorspace forecast for SDGE. This is only used to calculate back-cast and forecast growth rates.~
~
Source:~
Form 2.2 SDGE Planning Area California Energy Demand 2018-2030 Revised Baseline Forecast - Mid Demand Case~
https://efiling.energy.ca.gov/GetDocument.aspx?tn=222324
Definition: Table(Building_Stock_Year)(516,523,531,539,547,557,570,589,608,624,638,651,664,673,684,694,703,708,710,713,719,722,724,729,743,756,768,780,792,804,815,828,841,854,866,878,890,903)
NodeLocation: 128,320,1
NodeSize: 64,40
WindState: 2,75,312,1116,572
DefnState: 2,152,110,501,701,0,DFNM
Aliases: FormNode Fo1541014066

Decision Date_of_Premise_Cnt
Title: Date of Non-Res Premise Counts
Units: year
Description: The year for which non-residential premise counts is available.
Definition: Oct-1-2018
NodeLocation: 128,208,1
NodeSize: 64,40
Aliases: FormNode Fo1541014067

Variable Floorspc_GrowthIndex
Title: Floorspace Growth Index
Units: dmnls
Description: An index indicating the size of commercial floorspace relative to a reference year.
Definition: VAR interpFloorspc:=LinearInterp(Date_Bldg_Stock_Yr, Comm_Floorspace, Date_of_Premise_Cnt , Building_Stock_Year);~
~
Divide(Comm_Floorspace, interpFloorspc, True);~
~

NodeLocation: 296,320,1
NodeSize: 64,40
WindState: 2,870,69,855,578
ValueState: 2,382,68,843,833,0,MIDM

Constant Premise_Counts
Title: Premise Counts
Units: premises
Description: The current count of premises for SDGE customers.~
~
Source:~
File from Dan Wilson (posted on Sharepoint).~
"PremiseAndServiceCountByZipSector102518.xlsx"
Definition: Table(All_Spatial_ID,All_Sectors)(~
0,0,0,~
1287619,152883,0,~
6413,790,0,~
6160,513,0,~
728,209,0,~
1292,283,0,~
25509,2598,0,~
23664,2857,0,~
16221,604,0,~
5224,775,0,~
10066,720,0,~
701,132,0,~
236,53,0,~
92,21,0,~
10194,550,0,~
297,56,0,~
2973,447,0,~
13126,537,0,~
17514,2378,0,~
9166,940,0,~
201,46,0,~
15893,2983,0,~
774,127,0,~
258,66,0,~
18861,1337,0,~
2956,419,0,~
46,53,0,~
1794,417,0,~
2323,433,0,~
4681,324,0,~
12554,3668,0,~
16844,1542,0,~
6635,885,0,~
9802,1241,0,~
6581,866,0,~
14883,985,0,~
20960,3705,0,~
21378,2098,0,~
20026,3008,0,~
15788,3454,0,~
18282,1258,0,~
16209,1224,0,~
16630,2484,0,~
6827,2153,0,~
2100,568,0,~
19847,2477,0,~
14464,1347,0,~
16451,2264,0,~
557,36,0,~
20356,2138,0,~
19623,878,0,~
9952,1020,0,~
548,187,0,~
249,70,0,~
1040,446,0,~
15983,2820,0,~
12251,1953,0,~
174,39,0,~
3959,803,0,~
0,1,0,~
15360,2475,0,~
367,161,0,~
19852,2506,0,~
0,2,0,~
6221,1210,0,~
17772,2746,0,~
11260,2307,0,~
6074,1230,0,~
11293,1572,0,~
15034,1683,0,~
0,1,0,~
449,189,0,~
971,83,0,~
403,10,0,~
0,3,0,~
0,4,0,~
25534,4146,0,~
14678,1184,0,~
18890,2154,0,~
23581,1328,0,~
22145,1303,0,~
8289,1088,0,~
14476,800,0,~
14184,2379,0,~
26177,2415,0,~
12855,2913,0,~
16847,3632,0,~
0,1,0,~
13096,1370,0,~
17776,536,0,~
23575,1790,0,~
17963,851,0,~
20983,1283,0,~
9000,907,0,~
10112,379,0,~
12760,1388,0,~
1957,5828,0,~
22073,1271,0,~
12751,2940,0,~
9564,474,0,~
25436,3265,0,~
17032,1736,0,~
22046,2014,0,~
18078,890,0,~
22518,1982,0,~
12852,1283,0,~
0,4,0,~
942,13,0,~
11157,247,0,~
134,29,0,~
0,1,0,~
21027,3077,0,~
0,6,0,~
0,1,0,~
6952,1069,0,~
0,6,0,~
0,3,0,~
0,4,0,~
53,35,0,~
2941,300,0,~
13479,1246,0,~
1694,191,0,~
5868,593,0,~
2360,176,0,~
17481,1997,0,~
10286,1461,0,~
0,6,0,~
11585,2110,0,~
0,1,0,~
23283,1542,0,~
3285,248,0,~
2008,156,0,~
0,5,0,~
4010,670,0,~
6552,629,0,~
0,3,0,~
11922,1055,0,~
0,1,0)
NodeLocation: 456,200,1
NodeSize: 64,40
DefnState: 2,182,7,615,872,0,DFNM
ValueState: 2,71,387,416,303,,MIDM
Aliases: FormNode Fo1541014068
ReformDef: [All_Sectors,All_Spatial_ID]
ReformVal: [All_Sectors,All_Spatial_ID]
Att__TotalsIndex: [All_Spatial_ID]

Variable Total_NonRes_Premise
Title: Total Non-Res Premises
Units: premises
Description: The total number of non-residential premises.
Definition: Sum(Non_Res_Premises * (NOT All_Agg_Spatial_IDs), All_Spatial_ID) * Floorspc_GrowthIndex
NodeLocation: 704,320,1
NodeSize: 64,40
ValueState: 2,232,13,1256,857,0,MIDM

Variable Non_Res_Premises
Title: Non-Res Premises
Units: premises
Description: The non-residential premise count by zip code for SDGE.
Definition: Premise_Counts[All_Sectors=Non_Res_Label]
NodeLocation: 608,200,1
NodeSize: 64,40
ValueState: 2,52,141,519,655,,MIDM
Att__TotalsIndex: [PV_Spatial_ID]

Variable Res_Growth_Index
Title: Residential Growth Index
Units: dmnls
Description: An index indicating the number of residential premises relative to a reference year.
Definition: VAR interpStock:=LinearInterp(Date_Bldg_Stock_Yr, Residential_Stock, Date_of_Premise_Cnt, Building_Stock_Year);~
Divide(Residential_Stock, interpStock, True)
NodeLocation: 296,88,1
NodeSize: 64,40
ValueState: 2,244,16,1387,876,0,MIDM
ReformVal: [0,All_Spatial_ID]
Att_ResultSliceState: [All_Spatial_ID,2,TimeCopy,1]

Variable UnscaleNonResPremise
Title: Unscaled Non-Res Premises
Units: premises
Description: The number of non-residential premises estimated using residential growth indexes by zip code. These have not yet been scaled to match top-down estimates of commercial floorspace.
Definition: Non_Res_Premises * Res_Growth_Index
NodeLocation: 704,88,1
NodeSize: 64,40
ValueState: 2,483,26,1045,739,0,MIDM

Variable ScaledNonResPremises
Title: Scaled Non-Res Premises
Units: premises
Description: The non-residential premise count based on top-down growth estimates of commercial floorspace and bottom-up, zip-code-level growth rates from residential premises.
Definition: VAR scaled:=Non_Res_Scaling_Fact * UnscaleNonResPremise;~
VAR totalScaled:=Sum(scaled * (NOT All_Agg_Spatial_IDs), All_Spatial_ID);~
~
IF All_Spatial_ID = All_SDGE_Label~
THEN totalScaled~
ELSE scaled
NodeLocation: 936,88,1
NodeSize: 64,40
ValueState: 2,298,30,1297,849,0,MIDM
ReformVal: [Time_Solar_PV,PV_Spatial_ID]
Att__TotalsIndex: [PV_Spatial_ID]
Att_ResultSliceState: [PV_Spatial_ID,0,Time_Solar_PV,1]

FormNode Fo1541014066
Title: Commercial Floorspace
Definition: 0
NodeLocation: 128,372,1
NodeSize: 56,12
NodeInfo: 1,0,0,0,0,0,0,,0,,0,,,
Original: Comm_Floorspace

FormNode Fo1541014067
Title: Date of Non-Res Premise Counts
Definition: 0
NodeLocation: 128,156,1
NodeSize: 64,12
NodeInfo: 1,0,0,0,0,0,0,90,0,,0,,,
Original: Date_of_Premise_Cnt

FormNode Fo1541014068
Title: Premise Counts
Definition: 0
NodeLocation: 456,252,1
NodeSize: 56,12
NodeInfo: 1,0,0,0,0,0,0,,0,,0,,,
Original: Premise_Counts

Variable Residential_Stock
Title: Residential Stock
Units: bldg units
Description: The residential building stock.
Definition: IF Isnumber(Building_Stock[All_Sectors=Residential_Label]) THEN Building_Stock[All_Sectors=Residential_Label] ELSE 0
NodeLocation: 128,88,1
NodeSize: 64,40
WindState: 2,102,82,1105,431
ValueState: 2,258,129,1003,582,,MIDM
NumberFormat: 2,F,4,4,1,0,4,0,$,0,"ABBREV",0,,,0,0,15
Att__TotalsIndex: [All_Spatial_ID]
{!40700|Att_CellFormat: Undefined}

Variable Date_Bldg_Stock_Yr
Title: Date of Bldg Stock Year
Description: The end of year date for each building stock year.
Definition: Slice(BuildingYr_EOP_Map, @Building_Stock_Year)
NodeLocation: 296,200,1
NodeSize: 64,40
WindState: 2,102,82,843,479
ValueState: 2,568,238,416,635,,MIDM

Variable Tot_Unscaled_Premise
Title: Total Unscaled Non-Res Premises
Units: premises
Description: The total number of non-res premises based on zip code level growth rates, but not yet scaled to match CEC growth forecasts.
Definition: Sum(UnscaleNonResPremise * (NOT All_Agg_Spatial_IDs), All_Spatial_ID)
NodeLocation: 768,200,1
NodeSize: 64,40

Variable Non_Res_Scaling_Fact
Title: Non-Res Scaling Factor
Units: dmnls
Description: The ratio of desired premises (based on CEC growth rates) vs total unscaled premises by zip code (based on zip code level growth rates).
Definition: Divide(Total_NonRes_Premise, Tot_Unscaled_Premise, True)
NodeLocation: 856,320,1
NodeSize: 64,40
ValueState: 2,168,170,993,568,1,MIDM

Variable Compare_Premise_Fore
Title: Compare Premise Forecasts
Definition: VAR final:=Sum(ScaledNonResPremises * (NOT All_Agg_Spatial_IDs), All_Spatial_ID);~
VAR desired:=Total_NonRes_Premise;~
[final, desired]
NodeLocation: 936,424,1
NodeSize: 64,40
WindState: 2,102,82,944,547
ValueState: 2,296,125,1208,654,0,MIDM

Decision Use_Calc_NonRes_Stk
Title: Use Calculated Non-Res Stock
Units: boolean
Description: Check this input to use calculated estimates of the non-residential building stock. To use exogenous, imported non-residential building stock, leave this input unchecked.
Definition: Checkbox(0)
NodeLocation: 128,448,1
NodeSize: 64,40
Aliases: FormNode Fo1541013064

FormNode Fo1541013064
Title: Use Calculated Non-Res Stock
Definition: 0
NodeLocation: 180,476,1
NodeSize: 28,12
NodeInfo: 1,0,0,0,0,0,0,,0,,0,,,
Original: Use_Calc_NonRes_Stk

Close Non_Res_Bldg_Stock_E

Variable Applied_Building_Stk
Title: Applied Building Stock
Units: bldg units
Description: Building stock totals over time.~
~
Units:~
Residential: Premises~
Other: Premises
Definition: IF Isnumber(Building_Stock) THEN Building_Stock ELSE 0;   {replaces any 'missing' values with zero}~

NodeLocation: 280,176,1
NodeSize: 64,40
WindState: 2,4,93,997,469
ValueState: 2,75,23,1342,796,1,MIDM
Aliases: Alias Al1519249944
ReformVal: [Null,Building_Stock_Year]
NumberFormat: 2,F,4,0,1,0,4,0,$,0,"ABBREV",0,,,0,0,15
Att__TotalsIndex: [EV_Spatial_ID]
Att_ResultSliceState: [All_Sectors,1,All_Spatial_ID,2,Building_Stock_Year,1]
Att_ColorRole: Null

Constant Std_Demolition_Rate
Title: Standard Demolition Rate
Units: fraction/year
Description: http://onlinepubs.trb.org/Onlinepubs/sr/sr298pitkin-myers.pdf~
~
supports rough assumption of 0.5%/year of homes demolished
Definition: 0.00625
NodeLocation: 584,408,1
NodeSize: 64,40
Aliases: FormNode Fo1515343187

Variable Exist_Bldg_Stock_EOP
Title: Existing Bldg Stock EOP
Units: bldg units
Description: Total stock of existing buildings at the end of the period (EOP), which decays over time. This stock does not include any new builds, and will only decrease over time due to demolitions.
Definition: Exist_Bldg_Stock_BOP - Total_Demolitions * dT
NodeLocation: 912,288,1
NodeSize: 64,40
ValueState: 2,475,48,865,740,1,MIDM
NodeColor: 65535,65535,65535
ReformVal: [Time,Null]
NumberFormat: 2,F,4,0,1,0,4,0,$,0,"ABBREV",0,,,0,0,15
Att__TotalsIndex: [EV_Spatial_ID]
Att_ResultSliceState: [All_Sectors,2,All_Spatial_ID,49,Time,1]
Att_ColorRole: Null

Variable Total_Demolitions
Title: Total Demolitions
Units: bldg unit/year
Description: Demolition of existing buildings
Definition: MAX([Standard_Demolition, Stock_Decay])
NodeLocation: 736,288,1
NodeSize: 64,40
ValueState: 2,153,126,929,617,1,MIDM
NodeColor: 12593,38293,0
ReformVal: [Time,Null]
Att_ResultSliceState: [All_Spatial_ID,25,All_Sectors,2,Time,1]
Att_ColorRole: Null

Variable Construction
Title: Construction
Units: BuildingUnits/Year
Description: This is an annualized construction rate (building units per year). The timestep in the stock equation for Building Stock will determine how many units are actually added per timestep.
Definition: MAX([0, Total_Demolitions + Change_in_Stock])
NodeLocation: 736,176,1
NodeSize: 64,40
WindState: 2,102,82,1182,502
ValueState: 2,217,34,1188,775,1,MIDM
NodeColor: 12593,38293,0
ReformVal: [Time,All_Spatial_ID]
Att__TotalsIndex: [EV_Spatial_ID]
Att_ResultSliceState: [All_Sectors,1,All_Spatial_ID,2,Time,1]

Variable New_Building_Stock
Title: New Building Stock
Units: bldg units
Description: This is the total newly built stock starting from the beginning of the simulation, expressed as end-of-period values.
Definition: Cumulate(Construction *  dT, Time)
NodeLocation: 888,176,1
NodeSize: 64,40
ValueState: 2,191,70,1492,807,1,MIDM
NodeColor: 65535,65535,65535
ReformVal: [Null,Time]
NumberFormat: 2,F,4,0,1,0,4,0,$,0,"ABBREV",0,,,0,0,15
Att__TotalsIndex: [EV_Spatial_ID]
Att_ResultSliceState: [All_Spatial_ID,41,All_Sectors,1,Time,1]

Variable Total_Building_Stock
Title: Total Building Stock
Units: building units
Description: The total end-of-period building stock, inclusive of the original existing stock (reduced by demolitions) at the start of the simulation and the new stock built since the start of the simulation
Definition: Exist_Bldg_Stock_EOP + New_Building_Stock
NodeLocation: 1064,288,1
NodeSize: 64,40
WindState: 2,46,107,720,350
ValueState: 2,128,8,1594,861,0,MIDM
Aliases: FormNode Fo1542908928, Alias Al1529511466
NodeColor: 65535,65535,65535
GraphSetup: Att_GraphValueRange Total_Building_Stock:1,,1,1,,,,13.71M,13.78M,0
ReformVal: [Time,EV_Spatial_ID]
NumberFormat: 2,F,4,0,1,0,4,0,$,0,"ABBREV",0,,,0,0,15
Att__TotalsIndex: []
Att_ResultSliceState: [All_Sectors,1,All_Spatial_ID,22,Time,1]
Att_ColorRole: Null
{!50000|Att_ColumnWidths: [,Time,\([,,,,,,,,,,,,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,,,,,,,,,,,])]}

FormNode Fo1515343187
Title: Standard Demolition Rate
Definition: 0
NodeLocation: 580,464,1
NodeSize: 60,16
NodeInfo: 1,0,0,0,0,0,0,,0,,0,,,
Original: Std_Demolition_Rate

Alias Al1535645646
Title: Building_Stock
Definition: 1
NodeLocation: 120,176,1
NodeSize: 72,40
Original: Building_Stock

Variable Change_in_Stock
Title: Change in Stock
Units: bldg units/year
Definition: IF @Time=1~
THEN (Bldg_Stock_by_Time - Bldg_Stock_in_T_1) / dT    {Find the growth relative to the T-1 (the year prior to the simulation start year) building stock}~
ELSE (Bldg_Stock_by_Time - Bldg_Stock_by_Time[@Time=@Time-1]) / dT
NodeLocation: 584,176,1
NodeSize: 64,40
ValueState: 2,168,43,1346,758,1,MIDM
GraphSetup: Att_GraphIndexRange Time:1,,1,,,,,38.352K,39.447K,0
ReformVal: [Time,Null]
NumberFormat: 2,F,4,0,1,0,4,0,$,0,"ABBREV",0,,,0,0,15
Att_ResultSliceState: [All_Sectors,1,All_Spatial_ID,2,Time,1]
Att_ColorRole: Null

Variable Stock_Decay
Title: Stock Decay
Units: bldg units/year
Definition: MAX([0, -Change_in_Stock])
NodeLocation: 584,288,1
NodeSize: 64,40
ValueState: 2,0,19,893,800,1,MIDM
ReformVal: [Time,Null]
Att_ResultSliceState: [All_Sectors,1,All_Spatial_ID,5,Time,1]
Att_ColorRole: Null

Variable Standard_Demolition
Title: Standard Demolition
Units: bldg units/year
Definition: Exist_Bldg_Stock_BOP * Std_Demolition_Rate
NodeLocation: 736,408,1
NodeSize: 64,40
ValueState: 2,683,22,1081,756,1,MIDM
ReformVal: [Time,Null]
Att_ResultSliceState: [All_Spatial_ID,5,All_Sectors,1,Time,1]
Att_ColorRole: Null

Variable Exist_Bldg_Stock_BOP
Title: Existing Bldg Stock BOP
Units: bldg units
Description: Total stock of existing buildings at the beginning of the period (BOP), which decays over time. This stock does not include any new builds, and will only decrease over time due to demolitions.
Definition: Dynamic(Bldg_Stock_in_T_1,~
   Self[Time-1] - Total_Demolitions[Time-1] * dT~
)
NodeLocation: 888,408,1
NodeSize: 64,40
ValueState: 2,72,74,897,655,1,MIDM
NodeColor: 65535,65535,65535
ReformVal: [Time,Null]
Att_ResultSliceState: [All_Spatial_ID,25,All_Sectors,2,Time,1]
Att_ColorRole: Null

Text Te1542313183
Title: "Building units" are premise counts for both residential and non-residential sectors. Stocks inputs are assumed to be end-of-year (EOY) values.
NodeLocation: 576,40,-1
NodeSize: 536,24
NodeInfo: 1,0,0,1,1,1,1,,0,,0,,,
NodeFont: Arial Narrow,16

Variable Check_for_Stk_Error
Title: Check for Stock Error
Units: fraction
Definition: VAR interp:=LinearInterp(Time, Total_Building_Stock, BldgYr_to_Time_Map, Time);~
VAR error:=IF Applied_Building_Stk = 0~
   THEN 0~
   ELSE Divide(interp, Applied_Building_Stk, True) - 1;~
~
error[Building_Stock_Year=Time_Annually]
NodeLocation: 1288,264,1
NodeSize: 64,40
NodeInfo: 1,0,0,1,1,1,0,,0,,0,,,
ValueState: 2,252,0,1560,922,1,MIDM
NodeColor: 65535,19661,50247
NumberFormat: 2,%,4,0,0,0,4,1,$,0,"ABBREV",0,,,0,0,15
Att_ResultSliceState: [All_Sectors,3,All_Spatial_ID,1,Time_Annually,1]

Variable Bldg_Stock_by_Time
Title: Bldg Stock by Time
Units: bldg units
Description: Building stock totals over time.~
~
==Units==~
Residential: Premises~
Non-Residential: Premises
Definition: CubicInterp(BuildingYr_EOP_Map, Applied_Building_Stk, Equal_Prd_Time_Map, Building_Stock_Year) * Superimp_Bldg_Growth {Uses cubic interpolation to minimize kinks in new construction}
NodeLocation: 432,176,1
NodeSize: 64,40
WindState: 2,102,82,1103,411
ValueState: 2,196,38,1055,765,1,MIDM
Aliases: FormNode Fo1544635850
GraphSetup: Att_GraphValueRange Bldg_Stock_by_Time:1,,,1
ReformVal: [Time,Null]
Att__TotalsIndex: []
Att_ResultSliceState: [All_Spatial_ID,2,All_Sectors,3,BldgGrowthRate_Scens,1,Time,1]
Att_ColorRole: Null

Module T_1_Values
Title: T-1 Values
Author: JamesMilford
Date: Sun, Nov 18, 2018 11:53 PM
NodeLocation: 432,288,1
NodeSize: 64,40
NodeInfo: 1,0,0,1,1,1,0,,0,,0,,,
DiagState: 2,53,135,944,484,17

Variable Bldg_Stock_in_T_1
Title: Building Stock in T-1
Units: bldg units
Description: The estimated building stock in the period prior to first Time period.
Definition: VAR periodOneStock:=Bldg_Stock_by_Time[@Time=1];~
VAR periodTwoStock:=Bldg_Stock_by_Time[@Time=2];~
 ~
Divide(periodOneStock, periodTwoStock, True) * periodOneStock   {Apply the growth seen between period 1 and 2 to find year t-1}
NodeLocation: 128,104,1
NodeSize: 64,40
ValueState: 2,248,250,1234,469,0,MIDM

Variable Cumulat_Demolition
Title: Cumulative Demolition
Units: bldg units
Definition: Cumulate(Total_Demolitions * dT, Time)
NodeLocation: 288,104,1
NodeSize: 64,40

Variable Effective_Demo_Rate
Title: Effective Demolition Rate
Units: fraction/year
Description: The effective demolition rate per year.
Definition: Divide(Total_Demolitions * dT, Exist_Bldg_Stock_BOP, True) / dT
NodeLocation: 448,104,1
NodeSize: 64,40
ValueState: 2,298,70,1363,746,0,MIDM
NumberFormat: 2,%,4,4,0,0,4,0,$,0,"ABBREV",0,,,0,0,15
Att_ResultSliceState: [All_Sectors,2,All_Spatial_ID,1,Time,1]

Close T_1_Values

Index Stock_Source
Att_PrevIndexValue: ['New Stock','Existing Stock','Demolished Stock','Total Stock']
Title: Stock Source
Definition: ['New Stock','Existing Stock','Demolished Stock','Total Stock']
NodeLocation: 1288,456,1
NodeSize: 64,40

Objective Bldg_Stock_by_Source
Title: Bldg Stock by Source
Units: bldg units
Definition: Table(Stock_Source)(New_Building_Stock, Exist_Bldg_Stock_EOP, Cumulat_Demolition, Total_Building_Stock)
NodeLocation: 1288,360,1
NodeSize: 64,40
NodeInfo: 1,0,0,1,1,1,0,,0,,0,,,
ValueState: 2,338,52,1129,775,1,MIDM
NodeColor: 65535,19661,50247
ReformVal: [Time,Stock_Source]
NumberFormat: 2,F,4,0,1,0,4,0,$,0,"ABBREV",0,,,0,0,15
Att_ResultSliceState: [All_Spatial_ID,2,All_Sectors,1,Bldg_Stock_by_Time,1,Stock_Source,1,Time,1]

Text Te1542333139
Title: This logic is not used any longer since it has been recreated directly in the global template.
NodeLocation: 408,584,-1
NodeSize: 120,80
NodeInfo: 1,0,0,1,1,1,1,,0,,0,,,
NodeColor: 65535,65531,1
NodeFont: Arial Narrow,13

FormNode Fo1542908928
Title: Total Building Stock
Definition: 1
NodeLocation: 1072,340,1
NodeSize: 56,12
NodeInfo: 1,0,0,0,0,0,0,,0,,0,,,
NodeColor: 65535,65535,65535
Original: Total_Building_Stock

Decision BldgStk_Growth_Rates
Title: Building Stock Growth Rates
Units: fraction/year
Description: These are compounding growth rates superimposed on top of the CEC building stock forecasts. A rate of 0% indicates no change from the CEC forecast. A positive (negative) rate implies additional (less) growth relative to the CEC forecast. Note that these rates will lead to compounding growth over time. For example, a 1%/year growth rate will lead to building stocks that are 1% higher than the CEC forecast after 1 year, but after 10 years the building stocks will be 10.5% [=(1+0.01)^10] higher than the CEC forecast.
Definition: Table(BldgGrowthRate_Scens)(-0.01,0,0.01)
NodeLocation: 280,392,1
NodeSize: 64,40
WindState: 2,239,349,1276,549
Aliases: FormNode Fo1544635313, FormNode Fo1544633122, FormNode Fo1544642206
NumberFormat: 2,%,4,4,0,0,4,0,$,0,"ABBREV",0,,,0,0,15

Index BldgGrowthRate_Scens
Title: Building Growth Rate Scenarios
Definition: ['Low','Medium','High']
NodeLocation: 120,512,1
NodeSize: 64,40
Aliases: FormNode Fo1544633123
Att_PrevIndexValue: ['Low','Medium','High']

Decision Select_BldgGrwthScen
Title: Selected Bldg Growth Rate Scenario
Description: Select the building stock growth rate scenario.
Definition: Choice(BldgGrowthRate_Scens,2,1)
NodeLocation: 120,392,1
NodeSize: 64,40
Aliases: FormNode Fo1544635314, FormNode Fo1544633124, FormNode Fo1544642207
{!40200|Att_ChoiceIndexes: Index BldgGrowthRate_Scens}

FormNode Fo1544633122
Title: Building Stock Growth Rate Scenarios
Definition: 0
NodeLocation: 280,444,1
NodeSize: 56,12
NodeInfo: 1,0,0,0,0,0,0,,0,,0,,,
Original: BldgStk_Growth_Rates

FormNode Fo1544633123
Title: Building Growth Rate Scenarios
Definition: 0
NodeLocation: 120,564,1
NodeSize: 56,12
NodeInfo: 1,0,0,0,0,0,0,,0,,0,,,
Original: BldgGrowthRate_Scens

FormNode Fo1544633124
Title: Selected Growth Rate Scenario
Definition: 0
NodeLocation: 136,444,1
NodeSize: 72,12
NodeInfo: 1,0,0,0,0,0,0,102,0,,0,,,
Original: Select_BldgGrwthScen

Variable Superimp_Bldg_Growth
Title: Superimposed Bldg Growth
Units: dmnls
Description: Additional building stock growth multipliers superimposed on top of the CEC building stock forecasts.
Definition: VAR equivRate:=(1+BldgStk_Growth_Rates[BldgGrowthRate_Scens=Select_BldgGrwthScen])^dT-1;   {The compounding periodic equivalent of the annual growth rate based on the applied timestep for the Time index}~
VAR periodicChange:=IF Time <= Base_Period_for_Delt   {If time is less than the base period for calculating deltas}~
   THEN 1   {Then apply no change}~
   ELSE 1 + equivRate;   {Else apply the periodic change}~
~
CumProduct(periodicChange, Time)   {Compound the periodic change over time}
NodeLocation: 280,288,1
NodeSize: 64,40
ValueState: 2,231,92,1267,718,0,MIDM

Variable Va15
Definition: 1.01^10-1
NodeLocation: 664,568,1
NodeSize: 64,40

Variable Bldg_Stock_by_Time1
Title: Bldg Stock by Time
Units: bldg units
Description: Building stock totals over time.~
~
==Units==~
Residential: Premises~
Non-Residential: Premises
Definition: LinearInterp(BuildingYr_EOP_Map, Applied_Building_Stk, Equal_Prd_Time_Map, Building_Stock_Year) * Superimp_Bldg_Growth   {Uses cubic interpolation to minimize kinks in new construction}
NodeLocation: 824,528,1
NodeSize: 64,40
WindState: 2,102,82,1103,411
ValueState: 2,196,38,1055,765,1,MIDM
GraphSetup: Att_GraphValueRange Bldg_Stock_by_Time1:1,,,1
ReformVal: [Time,BldgGrowthRate_Scens]
Att__TotalsIndex: []
Att_ResultSliceState: [All_Spatial_ID,2,All_Sectors,3,BldgGrowthRate_Scens,1,Time,1]

Variable Change_in_Stock1
Title: Change in Stock
Units: bldg units/year
Definition: IF @Time=1~
THEN (Bldg_Stock_by_Time1 - Bldg_Stock_in_T_1) / dT    {Find the growth relative to the T-1 (the year prior to the simulation start year) building stock}~
ELSE (Bldg_Stock_by_Time1 - Bldg_Stock_by_Time1[@Time=@Time-1]) / dT
NodeLocation: 976,528,1
NodeSize: 64,40
ValueState: 2,168,43,1346,758,1,MIDM
GraphSetup: Att_GraphIndexRange Time:1,,1,,,,,38.352K,39.447K,0
ReformVal: [Time,Null]
NumberFormat: 2,F,4,0,1,0,4,0,$,0,"ABBREV",0,,,0,0,15
Att_ResultSliceState: [All_Sectors,1,All_Spatial_ID,2,Time,1]
Att_ColorRole: Null

Variable Compare2
Definition: [Change_in_Stock,Change_in_Stock1]
NodeLocation: 1112,528
NodeSize: 64,40
NodeInfo: 1,1,1,1,1,1,0,0,0,0,,0,1,0
ValueState: 2,286,150,1399,670,1,MIDM
ReformVal: [Time,Self]
Att_ResultSliceState: [All_Spatial_ID,25,All_Sectors,3,Self,1,Time,1]

Close Building_Stocks

